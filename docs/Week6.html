<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Accessibility: Making your research accessible online – Open Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week7.html" rel="next">
<link href="./Week5.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-299c106e48492a2f27e02f2ba82997eb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="shortcut icon" href="assets/forrt_icon.png">


<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="include/webex.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week1.html">Chapters</a></li><li class="breadcrumb-item"><a href="./Week6.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Accessibility: Making your research accessible online</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Open Research</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Overview</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Chapters</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What is Open Research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Transparency: As open as possible</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Integrity: Challenging questionable research practices</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Documenting Decisions Transparently</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Integrity: Supporting robust interpretations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week6.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Accessibility: Making your research accessible online</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Accessibility: Academic privilege and diversity</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Committing to open research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#open-access" id="toc-open-access" class="nav-link active" data-scroll-target="#open-access"><span class="header-section-number">6.1</span> Open access</a></li>
  <li><a href="#journal-publishing-models" id="toc-journal-publishing-models" class="nav-link" data-scroll-target="#journal-publishing-models"><span class="header-section-number">6.2</span> Journal publishing models</a>
  <ul>
  <li><a href="#what-help-is-available-for-authors-when-publishing-in-journals-with-an-apc" id="toc-what-help-is-available-for-authors-when-publishing-in-journals-with-an-apc" class="nav-link" data-scroll-target="#what-help-is-available-for-authors-when-publishing-in-journals-with-an-apc"><span class="header-section-number">6.2.1</span> What help is available for authors when publishing in journals with an APC?</a>
  <ul class="collapse">
  <li><a href="#the-big-five" id="toc-the-big-five" class="nav-link" data-scroll-target="#the-big-five"><span class="header-section-number">6.2.1.1</span> The Big Five</a></li>
  <li><a href="#activity-1" id="toc-activity-1" class="nav-link" data-scroll-target="#activity-1"><span class="header-section-number">6.2.1.2</span> Activity 1</a></li>
  </ul></li>
  <li><a href="#changing-tides" id="toc-changing-tides" class="nav-link" data-scroll-target="#changing-tides"><span class="header-section-number">6.2.2</span> Changing tides</a></li>
  </ul></li>
  <li><a href="#preprints" id="toc-preprints" class="nav-link" data-scroll-target="#preprints"><span class="header-section-number">6.3</span> Preprints</a></li>
  <li><a href="#preprint-considerations" id="toc-preprint-considerations" class="nav-link" data-scroll-target="#preprint-considerations"><span class="header-section-number">6.4</span> Preprint considerations</a>
  <ul>
  <li><a href="#activity-2" id="toc-activity-2" class="nav-link" data-scroll-target="#activity-2"><span class="header-section-number">6.4.0.1</span> Activity 2:</a></li>
  </ul></li>
  <li><a href="#beyond-open-access-publishing" id="toc-beyond-open-access-publishing" class="nav-link" data-scroll-target="#beyond-open-access-publishing"><span class="header-section-number">6.5</span> Beyond open access publishing</a></li>
  <li><a href="#quiz" id="toc-quiz" class="nav-link" data-scroll-target="#quiz"><span class="header-section-number">6.6</span> Quiz</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">6.7</span> Summary</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">6.8</span> References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week1.html">Chapters</a></li><li class="breadcrumb-item"><a href="./Week6.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Accessibility: Making your research accessible online</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Accessibility: Making your research accessible online</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style>
a.glossary {
  color: #1A43BF;
  text-decoration: underline;
  cursor: help;
  position: relative;
}

/* only needed for popup = "click" */
/* popup-definition */
a.glossary .def {
  display: none;
  position: absolute;
  z-index: 1;
  width: 200px;
  bottom: 100%;
  left: 50%;
  margin-left: -100px;
  background-color: #333;
  color: white;
  padding: 5px;
  border-radius: 6px;
}
/* show on click */
a.glossary:active .def {
  display: inline-block;
}
/* triangle arrow */
a.glossary:active .def::after {
  content: ' ';
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #333 transparent transparent transparent;
}
</style>
<p>In Weeks 2 to 5 of this course, you have explored two key principles of open research: transparency and integrity. Now let’s turn to the third principle of accessibility. Accessibility is crucial, because knowledge generation is a collective endeavour, funded at least in part by taxpayers, and so everyone has a right to the knowledge that is generated. For this short course, accessibility will be discussed in the context of journal manuscripts, while acknowledging that research can also be made accessible through many other outputs.</p>
<p><a class="glossary">Accessible research<span class="def">Research is accessible if all who are interested can consume, evaluate, and otherwise interact with research products and processes.</span></a> in this context means ensuring that all who are interested can consume, evaluate, and otherwise interact with research products and processes. Even if research is <a class="glossary">transparent<span class="def">The principle of transparency in research refers to the practice of being open and honest about all aspects of the research process.</span></a> and has <a class="glossary">integrity<span class="def">The principle of integrity refers to the degree of trustworthiness or believability of research findings.</span></a>, if only certain people can access the research products, it is not truly open.</p>
<section id="open-access" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="open-access"><span class="header-section-number">6.1</span> Open access</h2>
<p>One aspect of ensuring that all those who are interested are able to consume research products is <a class="glossary">open access<span class="def">Open access is the free, immediate, online availability of research outputs such as journal articles without having to pay a fee, combined with the rights to use these outputs fully in the digital environment.</span></a>, which refers to manuscripts being made freely available and reusable. If a manuscript is truly ‘open access’ then the author should have full copyright permissions, which means they can use the final manuscript however they wish.</p>
<p>To be reusable, the manuscript should be made available through a <a class="glossary">Creative Commons<span class="def">A Creative Commons license enables reusers to distribute, remix, adapt and build upon the material, as long as they abide by conditions set by the author.</span></a> (also known as CC) licencing, which offers more flexible usage rights for your work. As you learned in Week 2, there are various types of license, ranging from fairly permissive (e.g.: others can access, copy, use and adapt the work as long as credit is given to the author), to more restrictive (e.g.: credit must be given to the author, non-commercial uses only, and the work cannot be altered). You can find out more about licensing on the <a href="https://creativecommons.org/share-your-work/cclicenses/" target="_blank">Creative Commons website</a>.</p>
<p>As well as being related to accessibility, you can consider open access to be another form of transparency. It makes manuscripts openly available, for the same reasons as you learned about in Week 2, for making data and materials openly available.</p>
<p>Imagine you’re in a library searching for a book that you need for an assignment. You find the perfect one on the shelf, but when you try to open it, the pages are glued together. You can see the cover and read the blurb, but the valuable content inside is completely inaccessible to you. This is what it’s like to not be able to access an article because it’s behind a paywall.</p>
<p>Open access can take many different forms:</p>
<p><strong>Green open access</strong> <span class="emoji" data-emoji="green_circle">🟢</span></p>
<p>With green open access, the work is openly accessible from a public repository, such as a preprint server. This is a way researchers can provide access to their research without cost to themselves or their readers. Usually this means sharing a version of the manuscript openly (i.e.&nbsp;a version of the manuscript that has gone through the peer-review process, but has not been copy-edited or typeset by the publisher). The manuscript becomes freely available, either at the point of deposit or after a publisher’s embargo period, usually 6 to 24 months.</p>
<p><strong>Gold open access</strong> <span class="emoji" data-emoji="star">⭐</span>️</p>
<p>With gold open access, the work is immediately openly accessible upon publication via the publisher’s website. Usually this means the researcher paying a fee to the publisher, which can be up to several thousand pounds. Some universities have a deal with certain publishers, and will pay this charge on behalf of the researcher.</p>
<p><strong>Diamond open access</strong> <span class="emoji" data-emoji="gem">💎</span></p>
<p>Diamond open access (also known as platinum open access) is where an organisation covers the cost of publication so that neither the reader nor the author pays to read or publish. The work is immediately openly accessible upon publication via the publisher’s website, without cost to researchers or their readers.</p>
<p>If diamond open access is possible, why don’t more publishers offer it?</p>
</section>
<section id="journal-publishing-models" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="journal-publishing-models"><span class="header-section-number">6.2</span> Journal publishing models</h2>
<p>The reason why more publishers don’t offer diamond open access is because the different journals have different <a class="glossary">business models<span class="def">A business model is the plan of a company for how it will make a profit.</span></a>. Each journal will have a publisher, who plays a varying role in the operation and management of the journal. Publishers can be involved in editorial support, production and typesetting, distribution and access, marketing and promotion, financial management, copyright and licensing, and indexing and impact metrics.</p>
<p>Here are some of the different business models for academic journals:</p>
<table class="caption-top table" data-quarto-postprocess="true">
<caption>Table: Journal Publishing – Business Models</caption>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Subscription-based model</strong>:<br>
Under this model, readers pay a subscription fee to access the journal's content. This fee could be paid by individuals, institutions like universities, or both. The journal may also offer print and online subscription options.</td>
<td><strong>Society or Association-based model</strong>:<br>
Many journals are published by scholarly societies or professional associations. Depending on the society, the journal can either be a source of income for the society or association, or it can be financed by other sources of income.</td>
</tr>
<tr class="even">
<td><strong>Open Access model</strong>:<br>
In this model, sometimes referred to by its acronym ‘OA’, the content of the journal is freely available to readers without requiring a subscription. Instead, the costs of publication are often covered by charging authors a fee, known as an ‘article processing charge’, or ‘APC’.</td>
<td><strong>Advertising-supported model</strong>:<br>
In this model, journals generate revenue by selling advertising space within their publications. Advertisers pay to reach the journal's audience, typically researchers, academics, and professionals in a specific field.</td>
</tr>
<tr class="odd">
<td><strong>Hybrid model</strong>:<br>
Journals employing this model offer a combination of both subscription-based and open access options. Some articles are freely available (open access), while others require a subscription to access. Authors may choose to pay APCs to make their articles open access within a hybrid journal.</td>
<td><strong>Pay-per-view model</strong>:<br>
Some journals offer individual articles for purchase on a pay-per-view basis. Readers can access specific articles by paying a fee for each article they wish to view, rather than subscribing to the entire journal.</td>
</tr>
</tbody>
</table>
<section id="what-help-is-available-for-authors-when-publishing-in-journals-with-an-apc" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="what-help-is-available-for-authors-when-publishing-in-journals-with-an-apc"><span class="header-section-number">6.2.1</span> What help is available for authors when publishing in journals with an APC?</h3>
<p>Sometimes, institutions and/or research funders are willing to pay the APCs for authors to publish Open Access. Some institutions even have ‘Transitional Agreements’ with publishers to cover these APCs. Similarly, the UKRI block grant provides funding for eligible authors to meet publishing costs. Many journals also offer ‘APC waivers’ for eligible authors who are unable to pay. For authors seeking further assistance, exploring their institutional guidance or speaking directly with library staff can help identify other potential funding opportunities tailored to their specific needs.</p>
<section id="the-big-five" class="level4 unnnumbered" data-number="6.2.1.1">
<h4 class="unnnumbered anchored" data-number="6.2.1.1" data-anchor-id="the-big-five"><span class="header-section-number">6.2.1.1</span> The Big Five</h4>
<p>Many journals have a large publisher, e.g.&nbsp;Elsevier, Sage, Springer Nature, Taylor and Francis, and Wiley – the ‘big five’. These publishers are for-profit, meaning that they make a large amount of money from researchers (through APCs), universities (through subscriptions), or readers (through subscriptions and pay-per-view). For example, it has been estimated that the research community paid over $1.06 billion in open access fees alone to the big five publishers between 2015 and 2018.</p>
</section>
<section id="activity-1" class="level4" data-number="6.2.1.2">
<h4 data-number="6.2.1.2" class="anchored" data-anchor-id="activity-1"><span class="header-section-number">6.2.1.2</span> Activity 1</h4>
<p><em>Allow about 10 minutes.</em></p>
<p>Write down the advantages and disadvantages of each business model in terms of accessibility and open access to research. Which business model do you find the most concerning and why?</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/writing-icon-credit-SmashIcons.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="50"></p>
</figure>
</div>
<details>
  <summary>Show / Hide Discussion</summary>
  <p>
  <br>
There are many nuanced advantages and disadvantages to the different models. For example, the open access model ensures that anyone can read the published articles, but isn’t very accessible to authors, since they may not have the funding to pay to publish in the journal. Solving this problem, hybrid models mean that authors do not have to pay to publish, but then their article would be paywalled, making the model less accessible to readers.
  </p>
</details>
</section>
</section>
<section id="changing-tides" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="changing-tides"><span class="header-section-number">6.2.2</span> Changing tides</h3>
<p>People have been working for years to build up open access publishing. Latin America is a global leader. Governments, foundations, and public universities in Latin America have fostered a vibrant culture of open access, with between fifty and ninety percent of articles published in the region appearing open access through platforms such as <a href="https://www.scielo.org/en/" target="_blank">SciELO</a> and <a href="https://www.redalyc.org/" target="_blank">Redalyc</a>, typically as diamond open access.</p>
<p><a href="https://www.coalition-s.org/" target="_blank">Plan S</a> is an initiative launched by Coalition S, a group of international research agencies and funders from around the world. The goal is to make all publicly funded research freely available to everyone. Under Plan S, researchers who receive funding from Coalition S members must publish their work in open access journals or platforms.</p>
<p>More recently, academics have started developing independent journals, bypassing for-profit publishers. For example, the editorial team from the journal Lingua broke off from Elsevier and launched a new journal called <a href="https://www.glossa-journal.org/" target="_blank">Glossa</a>.</p>
<p>When publishing your research, one consideration of where to publish can be the values of the journal, and whether you want to contribute to further profits for a for-profit publisher or not. The next few sections explore some of your options.</p>
</section>
</section>
<section id="preprints" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="preprints"><span class="header-section-number">6.3</span> Preprints</h2>
<p>Although as researchers we can strive towards only publishing in open access journals that fully uphold our scientific values, life unfortunately is not that simple! As you learned in previous weeks, in academia, publishing in prestigious journals is incentivised, and impacts researchers’ ability to obtain grants, jobs and promotions. Unfortunately, what’s considered prestigious most often overlaps with for-profit publishers. This is why initiatives like <a href="https://sfdora.org/" target="_blank">DORA</a> (Declaration on Research Assessment) and responsible metrics are crucial. Rather than evaluating research based on the impact factor of the journal, which promotes the merits of individual works, they advocate evaluating research based on its quality and placing value on a wider range of scholarly outputs.</p>
<p>Although it might seem tempting to boycott all for-profit publishers (and many are doing this), it can be a balancing act for researchers to weigh up the relative costs and benefits of trying to publish in a prestigious journal. Those with more privilege – such as researchers with a permanent job, or enough savings or support to not worry about not having a job for a while – are able to be more radical in their approach, so it’s important to acknowledge that researchers have their individual circumstances to consider when deciding which journals to publish in, and more generally, which open research practices to engage in.</p>
<p><strong>Preprints</strong> are a way to ensure that your work is openly accessible to others, regardless of where you publish your research. A preprint is a version of your article that you submit to a preprint repository. There are preprint repositories in many fields, e.g.&nbsp;<a href="https://www.biorxiv.org/" target="_blank">bioRxiv</a> (pronounced ‘bio-archive’), <a href="https://osf.io/preprints/psyarxiv" target="_blank">PsyArXiv</a> (pronounced ‘psy-archive’), and <a href="https://philpapers.org/" target="_blank">PhilPapers</a>. There are also discipline non-specific repositories, e.g.&nbsp;<a href="https://osf.io/preprints" target="_blank">OSF preprints</a>. All you need to do is upload a version of your paper to the server, and it is available for anyone to read free! This is also a great way to showcase your work before waiting for it to be peer-reviewed and published in a journal, which can be especially beneficial to early-career researchers.</p>
<p>You can upload preprints for work that is already published in a journal, work that you’re submitting to a journal, and even work that you never intend to submit to a journal. There are different benefits to uploading preprints at these different stages:</p>
<ul>
<li><p>Alternative to a journal: If you’re not interested in publishing your paper in a peer-reviewed journal, or don’t have the time to do so, uploading it to a preprint server means that the research community can still read your findings and benefit from your hard work.</p></li>
<li><p>Alongside submission to a journal: Submitting a preprint alongside submission to a journal gets your paper out there quicker than waiting for it to be peer-reviewed and published. If you submit a preprint before submitting to a journal, people outside of the journal’s reviewers can give informal feedback that you can implement in your journal submission (or in the next round of submission).</p></li>
<li><p>After publishing in a journal: Submitting a preprint of work that has already been published in a journal means you can make your work green open access if it is currently published behind a paywall, meaning more people can read it.</p></li>
</ul>
<p>Many journals will allow you to publish a preprint of your work alongside submission to their journal, or after your article has been accepted in the journal. However, some journals will not. To check the rules for the journal that you’re interested in, enter the journal or publisher information in <a href="https://openpolicyfinder.jisc.ac.uk/" target="_blank">Open Policy Finder</a>.</p>
</section>
<section id="preprint-considerations" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="preprint-considerations"><span class="header-section-number">6.4</span> Preprint considerations</h2>
<p>Preprints are used to varying degrees across different fields of research, and in different ways within these fields, so it might be worth having a chat with your colleagues or educators to find out what the norms are in your field before deciding how and whether to upload your own preprints.</p>
<p>It’s important to consider that preprints that are published instead of, or alongside journal publication, have not always been peer-reviewed. This doesn’t automatically mean that they’re ‘worse’ than articles that have been peer-reviewed – many terrible manuscripts have slipped through peer-review, and many excellent ones have been rejected – but it does mean that readers should take the content with a pinch of salt and an even more critical eye than usual. This can be problematic when the public or journalists are interacting with preprints, as they might take the content as fact, which they shouldn’t even be doing for peer-reviewed work, let alone work that hasn’t been peer-reviewed.</p>
<section id="activity-2" class="level4" data-number="6.4.0.1">
<h4 data-number="6.4.0.1" class="anchored" data-anchor-id="activity-2"><span class="header-section-number">6.4.0.1</span> Activity 2:</h4>
<p><em>Allow about 15 minutes.</em></p>
<p>Find a preprint server for your discipline, or if one doesn’t exist then use <a href="" target="_blank">OSF Preprints</a>. Spend ten minutes looking for the most interesting article you can find, and identify which stage of the research process it has been uploaded to the preprint server. Use keywords you would usually use to search for an article in your discipline, just like searching for a published article. Tip: usually, researchers will identify on the title page if the article has been submitted to or accepted by a journal.</p>
<details>
  <summary>Show / Hide Discussion</summary>
  <p>
  <br>
Hopefully you could see whether preprints were published before or after publication in a journal. Preprints can be an excellent way to access the latest research findings in your area. Publishing a preprint allows you to gain feedback early. Preprints can also allow policy makers and practitioners to make decisions based on the latest research, and early-career researchers to build up a publication record quickly.
  </p>
</details>
</section>
</section>
<section id="beyond-open-access-publishing" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="beyond-open-access-publishing"><span class="header-section-number">6.5</span> Beyond open access publishing</h2>
<p>There are many other accessibility needs to consider when thinking about how different people may access knowledge that is produced via research. Some people experience specific barriers, which we can help them to overcome. The image shows a hand holding up an equals sign which is crossed out.</p>
<p>A blind person can benefit from text-to-speech software to access academic articles and textbooks. A deaf person can benefit from captioning when learning from a recorded lecture. Someone not familiar with technical language (e.g.&nbsp;a non-researcher member of the general public) might benefit from plain language summaries of the research and its potential use and impact, which could be through the form of a blog post for example (for more on diversity of scientific outputs see Week 8). Someone with dyslexia might find it difficult to read academic papers printed in a font that isn’t clear to read – yet there are dyslexia-friendly fonts readily available, that could make all the difference.</p>
<p>In this course, we will only touch on a few aspects of accessibility to knowledge produced by research, but we encourage you to think about other ways you can increase accessibility of your research.</p>
</section>
<section id="quiz" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="quiz"><span class="header-section-number">6.6</span> Quiz</h2>
<p>The quiz will help you consolidate what you have learned this week. The questions revise key terms related to accessibility, open access publishing and preprints. Make sure you read the feedback, whether you get the answers right or wrong.</p>
<div class="webex-question">
<div class="webex-check webex-box">
<ol type="1">
<li>What does open access refer to in research? (Select one)</li>
</ol>
<div id="webex-22627fc6d3e2c69a399f76e956a6d801" class="webex-radiogroup" data-answer="aQMaAhtWTwY5">
<label><input type="radio" autocomplete="off" name="22627fc6d3e2c69a399f76e956a6d801"><span>Making manuscripts freely available</span></label><label><input type="radio" autocomplete="off" name="22627fc6d3e2c69a399f76e956a6d801"><span>Limiting the reuse of research findings</span></label><label><input type="radio" autocomplete="off" name="22627fc6d3e2c69a399f76e956a6d801"><span>Restricting access to manuscripts</span></label><label><input type="radio" autocomplete="off" name="22627fc6d3e2c69a399f76e956a6d801"><span>Charging readers a fee to access manuscripts</span></label>
</div>
</div>
<div class="webex-solution">
<p>Open access means making manuscripts freely available to anyone who wants to read them! This can be done in different ways, depending on the open access model.</p>
<ul>
<li>Making manuscripts freely available <b>Correct</b></li>
<li>Limiting the reuse of research findings <b>Incorrect</b></li>
<li>Restricting access to manuscripts <b>Incorrect</b></li>
<li>Charging readers a fee to access manuscripts <b>Incorrect</b></li>
</ul>
</div>
</div>
<div class="webex-question">
<div class="webex-check webex-box">
<ol start="2" type="1">
<li>Which type of open access involves making research openly accessible from a public repository? (Select one)</li>
</ol>
<div id="webex-16286ff948a277b0fea1fbfcaee49976" class="webex-radiogroup" data-answer="agYeCRpWSglp">
<label><input type="radio" autocomplete="off" name="16286ff948a277b0fea1fbfcaee49976"><span>Red open access</span></label><label><input type="radio" autocomplete="off" name="16286ff948a277b0fea1fbfcaee49976"><span>Green open access</span></label><label><input type="radio" autocomplete="off" name="16286ff948a277b0fea1fbfcaee49976"><span>Gold open access</span></label><label><input type="radio" autocomplete="off" name="16286ff948a277b0fea1fbfcaee49976"><span>Diamond open access</span></label>
</div>
</div>
<div class="webex-solution">
<p><strong>Feedback</strong>: Green open access means the work is openly accessible from a public repository (e.g.&nbsp;a preprint server). This is a way researchers can provide access to their research without a cost to themselves or their readers.</p>
<ul>
<li>Red open access <b>Incorrect</b></li>
<li>Green open access <b>Correct</b></li>
<li>Gold open access <b>Incorrect</b></li>
<li>Diamond open access <b>Incorrect</b></li>
</ul>
</div>
</div>
<div class="webex-question">
<div class="webex-check webex-box">
<ol start="3" type="1">
<li>What is the main difference between gold and diamond open access? (Select one)</li>
</ol>
<div id="webex-22ea28ef8cb865ca4c240d8e2cecdd75" class="webex-radiogroup" data-answer="aQJJUB4ISVZl">
<label><input type="radio" autocomplete="off" name="22ea28ef8cb865ca4c240d8e2cecdd75"><span>Diamond open access is free for both authors and readers</span></label><label><input type="radio" autocomplete="off" name="22ea28ef8cb865ca4c240d8e2cecdd75"><span>Gold open access requires authors to pay a fee</span></label><label><input type="radio" autocomplete="off" name="22ea28ef8cb865ca4c240d8e2cecdd75"><span>Diamond open access requires authors to pay a fee</span></label><label><input type="radio" autocomplete="off" name="22ea28ef8cb865ca4c240d8e2cecdd75"><span>Gold open access is free for both authors and readers</span></label>
</div>
</div>
<div class="webex-solution">
<p><strong>Feedback</strong>: Both gold and diamond open access make the work openly accessible through a journal, but in gold open access authors pay a fee, whereas in diamond open access the article is published openly without the authors having to pay.</p>
<ul>
<li>Diamond open access is free for both authors and readers <b>Incorrect</b></li>
<li>Gold open access requires authors to pay a fee <b>Correct</b></li>
<li>Diamond open access requires authors to pay a fee <b>Incorrect</b></li>
<li>Gold open access is free for both authors and readers <b>Incorrect</b></li>
</ul>
</div>
</div>
<div class="webex-question">
<div class="webex-check webex-box">
<ol start="4" type="1">
<li>What is the main purpose of a preprint? (Select one or more)</li>
</ol>
<div id="webex-4fb4aff4ce09c9394b5291f2b525e809" class="webex-checkboxgroup" data-answer="b1dOBU1WSgQ+">
<label><input type="checkbox" autocomplete="off" name="4fb4aff4ce09c9394b5291f2b525e809"><span>To ensure that research findings are openly accessible</span></label><label><input type="checkbox" autocomplete="off" name="4fb4aff4ce09c9394b5291f2b525e809"><span>To make sure researchers get credit for the work they’ve done</span></label><label><input type="checkbox" autocomplete="off" name="4fb4aff4ce09c9394b5291f2b525e809"><span>To provide a way for researchers to monetise their work</span></label><label><input type="checkbox" autocomplete="off" name="4fb4aff4ce09c9394b5291f2b525e809"><span>To make researchers more likely to get a job</span></label>
</div>
</div>
<div class="webex-solution">
<p><strong>Feedback</strong>: The main purpose of a preprint is to ensure that research findings are openly accessible. However, preprints also contribute to making sure researchers get credit for the work that they’ve done, because they’re able to share that work before it’s published in a journal.</p>
<ul>
<li>To ensure that research findings are openly accessible <b>Correct</b></li>
<li>To make sure researchers get credit for the work they’ve done <b>Correct</b></li>
<li>To provide a way for researchers to monetise their work <b>Incorrect</b></li>
<li>To make researchers more likely to get a job <b>Incorrect</b></li>
</ul>
</div>
</div>
<div class="webex-question">
<div class="webex-check webex-box">
<ol start="5" type="1">
<li>What are possible sources of revenue for for-profit academic publishers? (Select one or more)</li>
</ol>
<div id="webex-7e7f02d92fa3e8e0255386a785ddfddd" class="webex-checkboxgroup" data-answer="bFQbVxwCSAhv">
<label><input type="checkbox" autocomplete="off" name="7e7f02d92fa3e8e0255386a785ddfddd"><span>Pay-per-view charges</span></label><label><input type="checkbox" autocomplete="off" name="7e7f02d92fa3e8e0255386a785ddfddd"><span>Article processing charges (APCs)</span></label><label><input type="checkbox" autocomplete="off" name="7e7f02d92fa3e8e0255386a785ddfddd"><span>Creative Commons licenses</span></label><label><input type="checkbox" autocomplete="off" name="7e7f02d92fa3e8e0255386a785ddfddd"><span>Subscription fees</span></label>
</div>
</div>
<div class="webex-solution">
<p><strong>Feedback</strong>: These three are possible sources of revenue for for-profit academic publishers. Creative Commons licenses are not: they are free legal tools, which enable the open sharing and reuse of creativity and knowledge.</p>
<ul>
<li>Pay-per-view charges <b>Correct</b></li>
<li>Article processing charges (APCs) <b>Correct</b></li>
<li>Creative Commons licenses <b>Incorrect</b></li>
<li>Subscription fees <b>Correct</b></li>
</ul>
</div>
</div>
<div class="webex-question">
<div class="webex-check webex-box">
<ol start="6" type="1">
<li>Which journal model offers a combination of subscription-based and open access? (Select one)</li>
</ol>
<div id="webex-59c0e7b58e9e3afbbcf215663eff37db" class="webex-radiogroup" data-answer="bglPAEkHTgRl">
<label><input type="radio" autocomplete="off" name="59c0e7b58e9e3afbbcf215663eff37db"><span>Pay-per-view model</span></label><label><input type="radio" autocomplete="off" name="59c0e7b58e9e3afbbcf215663eff37db"><span>Advertising-supported model</span></label><label><input type="radio" autocomplete="off" name="59c0e7b58e9e3afbbcf215663eff37db"><span>Society or association-based model</span></label><label><input type="radio" autocomplete="off" name="59c0e7b58e9e3afbbcf215663eff37db"><span>Hybrid model</span></label>
</div>
</div>
<div class="webex-solution">
<p><strong>Feedback</strong>: A hybrid model offers both subscription-based and open access to authors, depending on whether or not they choose to pay a fee.</p>
<ul>
<li>Pay-per-view model <b>Incorrect</b></li>
<li>Advertising-supported model <b>Incorrect</b></li>
<li>Society or association-based model <b>Incorrect</b></li>
<li>Hybrid model <b>Correct</b></li>
</ul>
</div>
</div>
</section>
<section id="summary" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="summary"><span class="header-section-number">6.7</span> Summary</h2>
<p>In this week, you learned about different models of open access and how this relates to journal <a class="glossary">business models<span class="def">A business model is the plan of a company for how it will make a profit.</span></a>. You also learned how preprints are an easy and helpful way to ensure that your work is openly accessible to everyone, and some tips for how and when to upload preprints. In the next week, you’ll be learning about other ways of making your research accessible to people around the world!</p>
</section>
<section id="references" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="references"><span class="header-section-number">6.8</span> References</h2>
<p>Alperin, J. P. (2015): <strong>The public impact of Latin America’s approach to open access</strong> Stanford University.<br>
Available at: <a href="https://stacks.stanford.edu/file/druid:jr256tk1194/AlperinDissertationFinalPublicImpact-augmented.pdf" target="_blank">https://stacks.stanford.edu/file/druid:jr256tk1194/AlperinDissertationFinalPublicImpact-augmented.pdf</a></p>
<p>American Society for Cell Biology (2024): <strong>Declaration on Research Assessment (DORA)</strong>.<br>
Available at: <a href="https://sfdora.org/" class="uri">https://sfdora.org/</a></p>
<p>Barnes, L. (2018): <strong>Green, gold, diamond black – what does it all mean?</strong><br>
Available at: <a href="https://blogs.openbookpublishers.com/green-gold-diamond-black-what-does-it-all-mean/" target="_blank">https://blogs.openbookpublishers.com/green-gold-diamond-black-what-does-it-all-mean/</a></p>
<p>Butler, L. A., Matthias, L., Simard, M. A., Mongeon, P., &amp; Haustein, S. (2023): <strong>The oligopoly’s shift to open access: How the big five academic publishers profit from article processing charges</strong>. Quantitative Science Studies, 4(4), 778-799.<br>
Available at: <a href="https://doi.org/10.1162/qss_a_00272" target="_blank">https://doi.org/10.1162/qss_a_00272</a></p>
<p>Center for Open Science (2024): <strong>OSF Preprints</strong><br>
Available at: <a href="https://osf.io/preprints" target="_blank">https://osf.io/preprints</a></p>
<p>Coalition S (2024): <strong>Plan S: making full and immediate open access a reality</strong> Available at: <a href="https://www.coalition-s.org/" target="_blank">https://www.coalition-s.org/</a></p>
<p>Cold Spring Harbour Laboratory (2024): <strong>bioRxiv: the Preprint Server for Biology</strong> Available at: <a href="https://www.biorxiv.org/" target="_blank">https://www.biorxiv.org/</a></p>
<p>Creative Commons (2024): <strong>About CC licenses</strong><br>
Available at: <a href="https://creativecommons.org/share-your-work/cclicenses/" target="_blank">https://creativecommons.org/share-your-work/cclicenses/</a></p>
<p>JISC Open Policy Finder (2025): <strong>Open Policy Finder</strong><br>
Available at: <a href="https://openpolicyfinder.jisc.ac.uk/" target="_blank">https://openpolicyfinder.jisc.ac.uk/</a></p>
<p>Linguistics in Open Access (LingOA, 2024): <strong>Glossa: a journal of general linguistics</strong><br>
Available at: <a href="https://www.glossa-journal.org/" target="_blank">https://www.glossa-journal.org/</a></p>
<p>Network of Scientific Journals from Latin America and the Caribbean, Spain and Portugal (2024): <strong>Redalyc</strong><br>
Available at: <a href="https://www.glossa-journal.org/" target="_blank">https://www.redalyc.org/</a></p>
<p>PhilPapers Foundation (2024): <strong>PhilPapers (index and bibliography of philosophy)</strong><br>
Available at: <a href="https://philpapers.org" target="_blank">https://philpapers.org/</a></p>
<p>SciELO (2024): <strong>Scientific Electronic Library Online (SciELO)</strong><br>
Available at: <a href="http://scielo.org/en/" target="_blank">http://scielo.org/en/</a></p>
<p>Society for the Improvement of Psychological Science <strong>Preprints / OSF (2024): PsyArXiv</strong><br>
Available at: <a href="https://osf.io/preprints/psyarxiv" target="_blank">https://osf.io/preprints/psyarxiv</a></p>


</section>

</main> <!-- /main -->
<script>

/* definition of content for the buttons */
const webex_buttons = {check_hidden:          "<b>&check;</b>",
                       check_hidden_alt:      "Check answer",
                       check_shown:           "<b>&lsh;</b>",
                       check_shown_alt:       "Hide check",
                       check_of_total:        "/",
                       solution:              "<b>&quest;</b>",
                       solution_alt:          "Correct solution",
                       question_next:         "<b>&#8634;</b>",
                       question_next_alt:     "Next question",
                       question_previous:     "",
                       question_previous_alt: ""}


/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  document.querySelectorAll(".webex-total_correct").forEach(total => {
    p = total.closest(".webex-box");
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;
    /* no specific class on input node, thus searching via query selector */
    var checkboxgroups = p.querySelectorAll("div[class=webex-checkboxgroup] input[type=checkbox]").length

    /* show number of correct / total number of answers */
    total.innerHTML = correct + "&nbsp;" + webex_buttons.check_of_total + "&nbsp;" + (solvemes + radiogroups + checkboxgroups + selects);
  });
}

/* check answers */
check_func = function() {
  console.log("webex: check answer");

  //var cl = elem.parentElement.classList;
  var cl = this.closest(".webex-box").classList;
  if (cl.contains("unchecked")) {
    cl.remove("unchecked");
    this.innerHTML = webex_buttons.check_shown; //"Hide check";
    if (webex_buttons.check_shown_alt.length > 0) this.setAttribute("title", webex_buttons.check_shown_alt);
  } else {
    cl.add("unchecked");
    this.innerHTML = webex_buttons.check_hidden; //"Check answer";
    if (webex_buttons.check_hidden_alt.length > 0) this.setAttribute("title", webex_buttons.check_hidden_alt);
  }
}

/* helper functions for checking the webex ID */
const id_checker = {"fmt": new RegExp("[g-zG-Z]"),
                    "load": function(e) { return e.getAttribute("id").match("(?<=(-)).*$")[0]; },
                    "eval": new TextEncoder(),
                    "dval": new TextDecoder()}

/* Show/hide correct solution */
solution_func = function() {
  console.log("webex: show/hide solution");

  var div = this.closest(".webex-question").querySelector(".webex-solution");
  var cl = div.classList;

  if (cl.contains("visible")) {
    cl.remove("visible");
  } else {
    cl.add("visible");
  }
}

/* function to check if the real answer is numeric */
convert_to_numeric = function(x) {
  if (typeof x == "string") {
    /* do nothing */
  } else if (x.length == 1) {
    /* take first element */
    x = x[0]
  } else {
    return NaN;
  }

  /* remove spaces for easier parsing */
  x = x.replace(/\s/g, "");

  /* Define patterns for different formats, note that spaces have been removed above */
  const patterns = [
    {regex: /^[+-]?\d+(\.\d{3})*,\d+$/, decimal: ",", thousand: "." },  // Format: "1.100.100.100,3"
    {regex: /^[+-]?\d+(,\d{3})*\.\d+$/, decimal: ".", thousand: "," },  // Format: "1,100,100,100.3"
    {regex: /^[+-]?\d+(\.|\.\d+)?$/, decimal: "." },                    // Format: "1100100100.5" or "1100100100."
    {regex: /^[+-]?\d+(,|,\d+)$/, decimal: "," }                        // Format: "1100100100,5" or "1100100100,"
  ];


  /* testing all regular expressions, convert to float if possible */
  for (const { regex, decimal, thousand } of patterns) {
    if (regex.test(x)) {
      let numeric = x;
      if (thousand) numeric = numeric.replace(new RegExp(`\\${thousand}`, "g"), "");
      numeric = numeric.replace(decimal, ".");
      return parseFloat(numeric);
    }
  }

  /* input of length 1 but none of the known formats, return NaN */
  return NaN;
}

/* Checking webex ID, returns formalsol */
check_id = function(e) {
  /* loading webex ID */
  var id = id_checker["load"](e);

  /* extracting answer */
  let answer = e.dataset.answer;

  /* checking unique id, prepare and return array */
  if (!id_checker["fmt"].test(id)) {
    const a = id_checker["eval"].encode(atob(answer));
    const b = id_checker["eval"].encode(id);
    const res = a.map((byte, index) => byte^b[index % b.length]);
    answer = id_checker["dval"].decode(res);
    /* Replacing &amp; with ' before parsing */
    answer = answer.replaceAll("&apos;", "'");
  }

  return JSON.parse(answer);
}

/* function for checking solveme answers */
solveme_func = function(e) {
  /* avoid that keyup and keychange twice execute this function within nms = 10
   * ms, clearing inputTimer and add timeout */
  console.log("webex: check solveme");

  /* float, precision for checking numeric answers */
  const eps = 0.00000000000001;

  /* get last checked user answer */
  const question = this.closest(".webex-question")

  /* extracting classes */
  var cl = this.classList;
  var my_answer = this.value;

  /* extracting classes */
  var cl = this.classList;

  /* empty answer? Job done */
  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
    return false;
  }

  /* Find closest (parent) webex-question */
  let formalsols = check_id(this)

  /* by default we assume the users' answer is incorrect */
  var user_answer_correct = false;

  /* check if the correct answer is numeric, i.e. if 
   * formalsols is of length 1 containing one single numeric
   * value in a known format, else, NaN is returned */
  const num_formalsol = convert_to_numeric(formalsols);
  const num_my_answer = convert_to_numeric(my_answer);

  /* if the correct answer is numeric (float), the user's answer
   * must also be numeric. If not, it is wrong. Else we can
   * compare floating point numbers */
  if (!isNaN(num_formalsol) && !isNaN(num_my_answer)) {
    /* check if the real answer and the user input are numerically the same;
     * adding 'delta' to avoid precision issues */
    var diff = Math.abs(num_formalsol - num_my_answer);
    if (diff < parseFloat(this.dataset.tol) + eps) { user_answer_correct = true; }

  /* if the question contains regex, a regular expression is used
   * to evaluate the users answer. Allows for multiple regular expressions */
  } else if (cl.contains("regex")) {
    for (let i = 0; i < formalsols.length; i++) {
        let regex = new RegExp(formalsols[i], cl.contains("ignorecase") ? "i" : "");
        if (regex.test(my_answer)) { user_answer_correct = true; break; }
    }

  /* else we evaluate on 'string level', considering the creators preferences
   * regarding set options */
  } else {
    /* modify/prepare answer */
    if (cl.contains("ignorecase")) { my_answer = my_answer.toLowerCase(); }
    if (cl.contains("nospaces"))   { my_answer = my_answer.replace(/ /g, ""); }

    /* if the real answer includes user input - correct */
    if (formalsols.includes(my_answer)) {
      user_answer_correct = true;
  
      // added regex bit
      if (cl.contains("regex")) {
        answer_regex = RegExp(formalsols.join("|"))
        if (answer_regex.test(my_answer)) {
          cl.add("webex-correct");
        }
      }
    }
  }

  if (user_answer_correct) {
      cl.add("webex-correct");
      cl.remove("webex-incorrect");
  } else {
      cl.add("webex-incorrect");
      cl.remove("webex-correct");
  }

  update_total_correct();

}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var options   = [];
  Array.from(this.querySelectorAll("option")).forEach((option, index) => {
    if (!option.hasAttribute("value") || !option.getAttribute("value") === "blank") {
      options.push(option);
    }
  });

  /* get selected option */
  function get_selected(options) { return options.findIndex(option => option.selected); }
  var option_index = get_selected(options)

  /* loading webex ID */
  var formalsol = check_id(this)

  /* add class for current selection */
  this.classList.remove("webex-incorrect");
  this.classList.remove("webex-correct");
  if (option_index >= 0) {
    this.classList.add(formalsol[option_index] === 1 ? "webex-correct" : "webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  /* get real answer (binary integer array) */
  var id = e.target.getAttribute("name");
  var group = document.querySelector(".webex-radiogroup[id='webex-" + id + "']");
  var formalsol = check_id(group)

  /* check which radiobuttion is selected (user answer) */
  function get_checked(radios) {
    return radios.findIndex(radios => radios.checked);
  }
  var radios = Array.from(group.querySelectorAll("input[type='radio']"))
  var radio_index = get_checked(radios);

  /* remove existing classes */
  radios.forEach(radio => {
    let cl = radio.closest("label").classList
    cl.remove("webex-incorrect");
    cl.remove("webex-correct");
  });

  /* add class for current selection */
  let cl = radios[radio_index].closest("label").classList
  if (formalsol[radio_index] === 1) {
      cl.add("webex-correct");
  } else {
      cl.add("webex-incorrect");
  }

  update_total_correct();
}


/* function for checking checkboxgroups answers */
checkboxgroups_func = function(e) {
  console.log("webex: check checkboxgroups");

  /* get real answer (binary integer array) */
  var group = document.querySelector(".webex-checkboxgroup[id='" + this.id + "']");
  var formalsol = check_id(group);

  /* check which checkbox is checked (user answer) */
  function get_checked(group) {
      const checkboxes = Array.from(group.querySelectorAll("input[type='checkbox']"));
      return checkboxes.reduce((indices, checkbox, index) => {
          if (checkbox.checked) indices.push(index);
          return indices;
      }, []);
  }
  var checks = Array.from(group.querySelectorAll("input[type='checkbox']"));
  var check_index = get_checked(group);

  checks.forEach((e, index) => {
    var label = e.parentNode;
    var ans = formalsol[index];
    if ((e.checked && ans === 1) || (!e.checked && ans === 0)) {
        label.setAttribute("class", "webex-correct")
    } else {
        label.setAttribute("class", "webex-incorrect")
    }
  });

  update_total_correct();
}

/* shuffling array (thanks to stack overflow)
 * If argument x is an integer we create an integer sequence
 * from 0, 1, ..., (x - 1) and return a shuffled version. If
 * the input is an array, we simply shuffle it */
shuffle_array = function(x) {
   if (Number.isInteger(x) && !isNaN(x)) {
     x = Array.from({length: x}, (v, i) => i);
   }
   let shuffled = x.map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort).map(({ value }) => value)
   return shuffled;
}

/* ---------------------------------------------------------
 * ---------------------------------------------------------
 * --------------------------------------------------------- */
window.onload = function() {
  //console.log("webex: onload");

  /* setting up buttons and actions to show/hide answers */
  document.querySelectorAll(".webex-check").forEach(section => {
    section.classList.add("unchecked");

    /* ul to take up the list items with buttons */
    let button_ul = document.createElement("ul");
    button_ul.setAttribute("class", "webex-button-list");
    section.appendChild(button_ul);

    /* button to _check_ if answers given are correct */
    let li_check = document.createElement("li");
    button_ul.appendChild(li_check); /* add list item to ul */
    let btn_check = document.createElement("button");
    btn_check.innerHTML = webex_buttons.check_hidden;  // "Check answer";
    btn_check.setAttribute("class", "webex-button webex-button-check");
    if (webex_buttons.check_hidden_alt.length > 0) btn_check.setAttribute("title", webex_buttons.check_hidden_alt);
    btn_check.onclick = check_func;
    li_check.appendChild(btn_check);

    /* span to show current number of points (when _check_ active) */
    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    li_check.appendChild(spn);

    /* button to show the _solution_ if there is one */
    var has_solution = section.parentNode.querySelectorAll(".webex-solution").length > 0;
    if (has_solution) {
      let li_solution = document.createElement("li");
      button_ul.appendChild(li_solution); /* add list item to ul */
      let btn_solution = document.createElement("button");
      btn_solution.innerHTML = webex_buttons.solution; // "Correct answer";
      btn_solution.setAttribute("class", "webex-button webex-button-solution");
      if (webex_buttons.solution_alt.length > 0) btn_solution.setAttribute("title", webex_buttons.solution_alt);
      btn_solution.onclick = solution_func;
      li_solution.appendChild(btn_solution);
    }

  });

  /* set up webex-solveme inputs */
  document.querySelectorAll(".webex-solveme").forEach(solveme => {
    solveme.setAttribute("autocomplete","off");
    solveme.setAttribute("autocorrect", "off");
    solveme.setAttribute("autocapitalize", "off");
    solveme.setAttribute("spellcheck", "false");
    solveme.value = "";

    /* adjust answer for 'no spaces' (ignore spaces) */
    if (solveme.classList.contains("nospaces")) {
      solveme.dataset.answer = solveme.dataset.answer.replace(/ /g, "");
    }

    /* attach checking function, triggered on key up, change, and when
     * elemnt is out of focus. Only evaluated once by tracking changes
     * via variable solveme_last_user_answer */
    solveme.addEventListener("keyup",  solveme_func);
    solveme.addEventListener("change", solveme_func);
    solveme.addEventListener("blur",   solveme_func);

    /* adding span to show correct/incorrect icon */
    solveme.insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  });

  /* set up radiogroups (single choice questions with display = "buttons") */
  document.querySelectorAll(".webex-radiogroup").forEach(radiogroup => {
    radiogroup.onchange = radiogroups_func;
  });

  /* set up checkboxgroups (multiple choice questions with display = "buttons") */
  document.querySelectorAll(".webex-checkboxgroup").forEach(checkboxgroup => {
    checkboxgroup.onchange = checkboxgroups_func;
  });

  /* set up selects (dropdown menus) */
  document.querySelectorAll(".webex-select").forEach(select => {
    select.onchange = select_func;
    /* append webex-icon for correct/incorrect icons */
    var elem = document.createElement("span")
    elem.classList.add("webex-icon")
    select.parentNode.appendChild(elem)
  });

  /* change to next/previous question if multiple are available */
  function handleQuestionClick(group, questions, step) {
    return async function() {
      /* get question order as integer vector */
      let questionOrder = group.dataset.questionOrder.split(",").map(str => parseInt(str));

      /* current question/position */
      let currentPosition = parseInt(group.dataset.currentPosition);

      /* Hide the current question */
      questions.forEach(question => { question.classList.remove("active"); });

      /* Move to the next question index */
      currentPosition = (currentPosition + step) % questionOrder.length;
      if (currentPosition < 0) currentPosition = currentPosition + questionOrder.length

      /* Display the new question */
      questions[questionOrder[currentPosition]].classList.add("active");

      // Update the currentPosition data attribute on the group div
      group.dataset.currentPosition = currentPosition;
    };
  }

  document.querySelectorAll(".webex-group").forEach(group => {
    const questions = Array.from(group.querySelectorAll(".webex-question"));

    /* Create vector with question order. If the webex-group does
     * not have class '.noshuffle' we will randomly shuffle the order */
    let questionOrder = Array.from({length: questions.length}, (v, i) => i);
    if (!group.classList.contains("noshuffle")) {
      questionOrder = shuffle_array(questionOrder);
    }

    /* take start position (if set) or start at 0 */
    const currentPosition = parseInt(group.getAttribute("data-start-position")) || 0;

    /* show the default question for each group */
    questions[questionOrder[currentPosition]].classList.add("active");

    /* store random order of questions as well as current position */
    group.dataset.questionOrder   = questionOrder;
    group.dataset.currentPosition = currentPosition;

    /* find all webex-questions, search for .webex-button-list and
     * populate the list with necessary <li><button>...</button></li> elements */
    questions.forEach(question => {
        let button_ul = question.querySelector("ul.webex-button-list");

        let li_next = document.createElement("li");
        let nextButton = document.createElement("button");
        nextButton.setAttribute("class", "webex-button webex-button-next");
        if (webex_buttons.question_next_alt.length > 0) nextButton.setAttribute("title", webex_buttons.question_next_alt);
        nextButton.innerHTML = webex_buttons.question_next; // "Next question";
        nextButton.addEventListener("click", handleQuestionClick(group, questions, 1));
        li_next.appendChild(nextButton);

        let li_previous = document.createElement("li");
        let previousButton = document.createElement("button");
        previousButton.setAttribute("class", "webex-button webex-button-previous");
        if (webex_buttons.question_previous_alt.length > 0) previousButton.setAttribute("title", webex_buttons.question_previous_alt);
        previousButton.innerHTML = webex_buttons.question_previous; // "Previous question";
        previousButton.addEventListener("click", handleQuestionClick(group, questions, -1));
        li_previous.appendChild(previousButton);

        if (webex_buttons.question_previous.length > 0) button_ul.appendChild(li_previous);
        if (webex_buttons.question_next.length > 0) button_ul.appendChild(li_next);
    });
  });

  /* Development options */
  document.querySelectorAll(".webex-question.check").forEach(question => {
      question.querySelector(".webex-button-check").click()
  });
  document.querySelectorAll(".webex-question.solution").forEach(question => {
      let btn = question.querySelector(".webex-button-solution");
      if (btn !== null) { btn.click(); }
  });

  /* Pre-filling <input> fields */
  document.querySelectorAll(".webex-question.prefill").forEach(question => {
      question.querySelectorAll("input.webex-solveme").forEach(solveme => {
          let x = JSON.parse(solveme.dataset.answer);
          solveme.value = x[0];
          /* Trigger the on change event */
          solveme.dispatchEvent(new Event("change"));
      });

      /* Pre-filling radiogroups, that is for schoice questions */
      question.querySelectorAll(".webex-radiogroup").forEach(radiogroup => {
          let x = JSON.parse(radiogroup.dataset.answer);
          let idx = x.indexOf(1);
          let radios = radiogroup.querySelectorAll('input[type="radio"]');
          radios[idx].checked = true;
          /* Trigger the on change event */
          radios[idx].dispatchEvent(new Event("change", { bubbles: true }));
      });

      /* Pre-filling checkboxgroups, that is for schoice questions w/ dropdown menus */
      question.querySelectorAll(".webex-select").forEach(dropdown => {
          let x = JSON.parse(dropdown.dataset.answer);
          let idx = x.indexOf(1) + 1; /* +1 to skip the first blank option */
          let options = dropdown.querySelectorAll("option");
          options[idx].selected = true;
          /* Trigger the on change event */
          options[idx].dispatchEvent(new Event("change", { bubbles: true }));
      });

      /* Pre-filling checkboxgroups, that is for mchoice questions */
      question.querySelectorAll(".webex-checkboxgroup").forEach(radiogroup => {
          let x = JSON.parse(radiogroup.dataset.answer);
          let checkboxes = radiogroup.querySelectorAll('input[type="checkbox"]');
          for (let i = 0; i < checkboxes.length; i++) {
              checkboxes[i].checked = x[i];
          }
          /* Trigger the on change event */
          checkboxes[0].dispatchEvent(new Event("change", { bubbles: true }));
      });
  });

  /* Show set tolerance (devel option) */
  function calc_width(x, txt, offset = 20) {
      /* We do the following:
       * Create a new span, insert the value we need in the .tolerance
       * input node, and calculate its offsetWidth. Then remove it
       * again; this is just used to calculate the required width. */
      var cwtmp = document.createElement("span");
      x.appendChild(cwtmp);
      cwtmp.innerHTML = txt || "";
      var w = parseInt(cwtmp.getBoundingClientRect().width) + offset;
      cwtmp.remove();
      return w;
  }

  /* If tolerance should be shown (devel option) we calculate:
   * - the width required to properly display the solution
   * - the width required to properly display the tolerance
   * - add a new element to display the tolerance
   * - reduce the width of the solution input box. */
  document.querySelectorAll(".webex-question.tolerance").forEach(question => {
      question.querySelectorAll("input[data-tol]").forEach(elem => {
          var w = null;

          /* Add new element showing the tolerance */
          let tol = document.createElement("input");
          tol.type = "text"; // <inpyt type="text">
          tol.disabled = true; // Disable input element
          tol.classList.add("tolerance"); // Appending class
          tol.value = "± " + elem.getAttribute("data-tol");

          /* Add new node */
          elem.parentNode.insertBefore(tol, elem)

          var body     = document.querySelector("body");
          //tol.value = "± " + "0.0000007";
          //tol.value = "± " + "0.07";
          w    = calc_width(body, tol.value);
          wold = parseInt(elem.getBoundingClientRect().width);
          wmin = calc_width(body, elem.value);

          /* Calculate required width of the 'tolerance' node, and the
           * reduction of the original 'input' node */
          let wnew = Math.max(wmin, wold - w);
          tol.style.width  = w + "px";
          elem.style.width = wnew + "px";
      });
  });

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week5.html" class="pagination-link" aria-label="Integrity: Supporting robust interpretations">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Integrity: Supporting robust interpretations</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week7.html" class="pagination-link" aria-label="Accessibility: Academic privilege and diversity">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Accessibility: Academic privilege and diversity</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>